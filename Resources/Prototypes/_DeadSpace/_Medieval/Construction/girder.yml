- type: constructionGraph
  id: MedievalGirder
  start: start
  graph:
    - node: start
      edges:
      - to: girder
        completed:
          - !type:SnapToGrid
            southRotation: true
        steps:
          - material: MedievalConstructionToolsAmmo
            amount: 1
            doAfter: 1

    - node: girder
      entity: MedievalGirder
      edges:
      - to: start
        completed:
          - !type:SpawnPrototype
            prototype: MedievalConstructionToolsAmmo
            amount: 1
          - !type:DeleteEntity {}
        conditions:
          - !type:EntityAnchored
            anchored: false
        steps:
          - tool: Screwing
            doAfter: 2

      - to: girder2
        conditions:
          - !type:EntityAnchored
            anchored: true
        steps:
          - tool: MedievalScore
            doAfter: 2

      - to: heavyGirder
        conditions:
          - !type:EntityAnchored
            anchored: true
        steps:
          - material: MedievalConstructionToolsAmmo
            amount: 1
            doAfter: 1

    - node: heavyGirder
      entity: MedievalHeavyGirder
      edges:
      - to: girder
        completed:
          - !type:SpawnPrototype
            prototype: MedievalConstructionToolsAmmo
            amount: 1
        conditions:
          - !type:EntityAnchored
            anchored: false
        steps:
          - tool: Screwing
            doAfter: 2

      - to: heavyGirder2
        conditions:
          - !type:EntityAnchored
            anchored: true
        steps:
          - tool: MedievalScore
            doAfter: 2

    - node: heavyGirder2
      entity: MedievalHeavyGirder2
      edges:
      - to: heavyGirder
        conditions:
          - !type:EntityAnchored
            anchored: false
        steps:
          - tool: Screwing
            doAfter: 2

      - to: heavyWallWood
        completed:
          - !type:SnapToGrid
            southRotation: true
        conditions:
          - !type:EntityAnchored {}
        steps:
          - material: MedievalBoard
            amount: 4
            doAfter: 2

      - to: heavyWallStone
        completed:
          - !type:SnapToGrid
            southRotation: true
        conditions:
          - !type:EntityAnchored {}
        steps:
          - material: MedievalProcessedStone
            amount: 4
            doAfter: 2

    - node: girder2
      entity: MedievalGirder2
      edges:
      - to: girder
        conditions:
          - !type:EntityAnchored
            anchored: false
        steps:
          - tool: Screwing
            doAfter: 2

      - to: woodWall
        completed:
          - !type:SnapToGrid
            southRotation: true
        conditions:
          - !type:EntityAnchored {}
        steps:
          - material: MedievalBoard
            amount: 2
            doAfter: 2

      - to: wallStone
        completed:
          - !type:SnapToGrid
            southRotation: true
        conditions:
          - !type:EntityAnchored {}
        steps:
          - material: MedievalProcessedStone
            amount: 2
            doAfter: 2

    - node: woodWall
      entity: MedievalWallWood

    - node: heavyWallStone
      entity: MedievalHeavyWallStone

    - node: wallStone
      entity: MedievalWallStone

    - node: heavyWallWood
      entity: MedievalHeavyWallWood

